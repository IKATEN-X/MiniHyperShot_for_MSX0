10 SAVE"mgkey1.bas
20 SCREEN1:CLS
30 _IOTINIT()
40 _IOTFIND("device/i2c_a",A):PRINTA
50 _IOTFIND("device/i2c_a",I$(0),A):FOR I=0 TO A-1:PRINT I$(I):NEXT
60 DP$="device/i2c_a/45"
70 MS$=CHR$(0)+STRING$(8,CHR$(1)) ' EXTIO2_MODE_REG(0x00) + DIGITAL_OUTPUT_MODE(1)
80 _IOTPUT(DP$,MS$)
90 FOR I=0 TO 7
100 AP$=CHR$(I)+CHR$(1) ' PIN No(0 to 7 + DIGITAL_OUTPUT_MODE(1)
110 _IOTPUT(DP$,AP$)
120 NEXT
130 FOR I=0 TO 7:_IOTPUT(DP$,CHR$(&H10+I)+CHR$(1)):NEXT
140 U0$=CHR$(&H10)+CHR$(0):U1$=CHR$(&H10)+CHR$(1)
150 D0$=CHR$(&H11)+CHR$(0):D1$=CHR$(&H11)+CHR$(1)
160 L0$=CHR$(&H12)+CHR$(0):L1$=CHR$(&H12)+CHR$(1)
170 R0$=CHR$(&H13)+CHR$(0):R1$=CHR$(&H13)+CHR$(1)
180 T1$=CHR$(&H15)
190 _IOTPUT(DP$,R0$):_IOTPUT(DP$,L0$)
200 PRINT"Magic Key2"
